<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Sustentación Maestría - Gobernanza TI</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Presentación de Tesis de Maestría en Gobierno de TI - Uninorte">

<!-- --- OPTIMIZACIÓN DE CARGA --- -->
<!-- Preconectamos con los servidores de Google Fonts para acelerar la descarga de tipografías -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">

<style>
/* =========================================
   1. VARIABLES (Custom Properties)
   ========================================= */
/* Definimos los colores y valores en un solo lugar para facilitar cambios futuros. */
:root {
  /* Paleta de Colores Institucional/Sobria */
  --c-rojo: #E33E33;
  --c-negro: #111111;
  --c-verde: #2F4538;
  --c-beige: #A88E60;
  --c-blanco: #FFFFFF;
  --c-gris-claro: #F9F9F9;
  
  /* Sombras para profundidad (Material Design) */
  --shadow-card: 0 10px 30px rgba(0,0,0,0.08);
  --shadow-float: 0 20px 50px rgba(0,0,0,0.15);

  /* Tiempos de animación unificados */
  --trans-slide: 0.6s cubic-bezier(0.25, 1, 0.5, 1); /* Curva suave "ease-out" */
  --trans-ui: 0.3s ease;
}

/* =========================================
   2. RESET Y BASE
   ========================================= */
body {
  margin: 0;
  font-family: 'Lato', sans-serif; /* Fuente principal sans-serif para lectura en pantalla */
  background-color: #f0f0f0;
  color: var(--c-negro);
  overflow: hidden; /* Evita scrollbars accidentales durante la presentación */
  font-size: 16px; 
}

/* Accesibilidad: Indicador visual para navegación por teclado */
*:focus-visible {
    outline: 3px solid var(--c-rojo);
    outline-offset: 2px;
}

/* =========================================
   3. LAYOUT PRINCIPAL
   ========================================= */
#app {
  width: 100vw; height: 100vh;
  display: flex; justify-content: center; align-items: center;
  position: relative;
  background-color: #e5e5e5;
}

/* Fondo con textura de ruido para evitar el "banding" de color y dar textura de papel */
.noise-bg {
    position: fixed; inset: 0; pointer-events: none; z-index: 0; opacity: 0.04;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* =========================================
   4. ESTILOS DE DIAPOSITIVAS
   ========================================= */
.slide {
  display: none; /* Por defecto ocultas */
  position: absolute;
  width: 90%; height: 85%; max-width: 1400px;
  background: var(--c-blanco);
  padding: 4rem 6rem;
  box-sizing: border-box;
  opacity: 0;
  box-shadow: var(--shadow-float);
  border-top: 5px solid var(--c-rojo); 
  
  /* ESTADO INICIAL (Antes de entrar): Desplazada hacia abajo */
  transform: translate3d(0, 30px, 0); 
  /* NOTA TÉCNICA: Usamos translate3d para forzar la aceleración por Hardware (GPU) */
  
  transition: opacity var(--trans-slide), transform var(--trans-slide);
  z-index: 1;
}

/* CLASE ACTIVA: Se aplica vía JS a la diapositiva actual */
.slide.active {
  display: flex; flex-direction: column; justify-content: center;
  opacity: 1; z-index: 2;
  transform: translate3d(0, 0, 0); /* Posición original */
}

/* =========================================
   5. CSS ATÓMICO (Utilidades)
   ========================================= */
/* Fuentes */
.font-serif { font-family: 'Playfair Display', serif; } /* Para títulos elegantes */
.font-sans { font-family: 'Lato', sans-serif; }

/* Tamaños y Estilos de Texto */
.text-h1 { font-size: 3.5rem; line-height: 1.1; margin-bottom: 1.5rem; letter-spacing: -1px; }
.text-h2 { 
    font-size: 2.5rem; margin-bottom: 2rem; 
    border-bottom: 3px solid var(--c-beige); 
    display: inline-block; padding-bottom: 0.5rem; 
}
.text-h3 { font-size: 1.5rem; margin-bottom: 1rem; font-weight: 700; }
.text-body { font-size: 1.3rem; line-height: 1.6; color: #333; font-weight: 300; margin-bottom: 1rem; }
.text-sm { font-size: 0.9rem; letter-spacing: 1px; text-transform: uppercase; font-weight: 700; }

/* Colores de Texto */
.text-red { color: var(--c-rojo); }
.text-beige { color: var(--c-beige); }
.text-dark { color: var(--c-negro); }
.text-muted { color: #888; } /* Gris suave para info secundaria */
.text-white { color: white; }

/* Layouts (Grid System) */
.grid-2 { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 4rem; align-items: center; height: 100%; }
.grid-4 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
.flex-col { display: flex; flex-direction: column; }
.flex-row { display: flex; align-items: center; gap: 1rem; }
.mt-4 { margin-top: 2rem; }
.mb-2 { margin-bottom: 1rem; }

/* Componentes de UI */
.card-visual {
    background: #fcfcfc; padding: 2rem; 
    border: 1px solid #eee; text-align: center;
    box-shadow: var(--shadow-card);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    height: 100%; min-height: 300px;
    border-radius: 8px; /* UX: Bordes suaves */
}
.card-highlight {
    background: white; padding: 1.5rem; margin-bottom: 1rem;
    border-left: 4px solid var(--c-rojo); 
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    border-radius: 0 4px 4px 0;
}
.icon-lg { font-size: 4rem; margin-bottom: 1rem; color: var(--c-negro); }
.divider { width: 80px; height: 5px; background: var(--c-rojo); margin: 2rem 0; }

/* Listas personalizadas (Bullets rojos) */
.list-custom li { list-style: none; position: relative; padding-left: 2rem; margin-bottom: 1rem; font-size: 1.3rem; font-weight: 300; }
.list-custom li::before { 
    content: ''; position: absolute; left: 0; top: 0.6em; 
    width: 6px; height: 6px; background: var(--c-rojo); 
    transition: transform 0.2s; 
}
/* Micro-interacción: El bullet crece al pasar el mouse */
.list-custom li:hover::before { transform: scale(1.5); } 

/* =========================================
   6. ANIMACIONES (Stagger Effect)
   ========================================= */
/* Efecto cascada: los elementos entran uno tras otro */
.reveal { opacity: 0; transform: translateY(20px); transition: all 0.7s ease; }
.slide.active .reveal:nth-child(1) { transition-delay: 0.1s; opacity: 1; transform: translateY(0); }
.slide.active .reveal:nth-child(2) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
.slide.active .reveal:nth-child(3) { transition-delay: 0.3s; opacity: 1; transform: translateY(0); }
.slide.active .reveal:nth-child(4) { transition-delay: 0.4s; opacity: 1; transform: translateY(0); }

/* =========================================
   7. CONTROLES DE NAVEGACIÓN
   ========================================= */
.controls { 
    position: absolute; bottom: 2rem; right: 4rem; 
    display: flex; background: white; border: 1px solid #ddd;
    box-shadow: var(--shadow-card); z-index: 50;
    border-radius: 4px; overflow: hidden;
}
.btn-nav {
  width: 50px; height: 50px; border: none; background: white; color: var(--c-negro);
  font-size: 1.2rem; cursor: pointer; transition: var(--trans-ui);
  border-left: 1px solid #eee;
  display: flex; align-items: center; justify-content: center;
}
.btn-nav:first-child { border-left: none; }
.btn-nav:hover { background: var(--c-negro); color: white; }
.btn-nav:active { background: #333; } /* Feedback visual al hacer click */

#slide-counter { 
    padding: 0 1.5rem; display: flex; align-items: center; 
    font-weight: 900; user-select: none; 
}
.progress-bar { 
    position: absolute; bottom: 0; left: 0; height: 6px; 
    background: var(--c-rojo); width: 0; transition: width 0.5s; z-index: 100; 
}

/* =========================================
   8. RESPONSIVE DESIGN (Móvil)
   ========================================= */
@media (max-width: 900px) {
  .slide { padding: 2rem; width: 95%; height: 95%; }
  .grid-2, .grid-2-rev { grid-template-columns: 1fr; gap: 2rem; display: block; }
  .text-h1 { font-size: 2.2rem; }
  /* UX Móvil: Botones más grandes para dedos */
  .controls { right: 50%; transform: translateX(50%); bottom: 1rem; width: 90%; justify-content: space-between; }
  .btn-nav { width: 70px; height: 60px; font-size: 1.5rem; }
  .card-visual { min-height: 200px; margin-top: 1rem; }
}
</style>
</head>

<body>
<!-- Capa decorativa (Ruido) -->
<div class="noise-bg"></div>
<!-- Barra de progreso superior o inferior -->
<div class="progress-bar" id="progressBar"></div>

<div id="app">
  
  <!-- =======================================================
       DIAPOSITIVAS
       ======================================================= -->

  <!-- 1. PORTADA -->
  <div class="slide active">
    <div class="reveal">
        <!-- Lógica de Fallback de Imagen: Si falla, muestra texto -->
        <img src="assets/images/norte.png" alt="Logo Uninorte" style="height: 90px; display:block; margin-bottom: 1rem;" onerror="this.style.display='none'; document.getElementById('logo-fallback').style.display='block'">
        <h3 id="logo-fallback" class="text-sm text-dark" style="display:none;">UNIVERSIDAD DEL NORTE</h3>
    </div>
    <div class="mt-4 reveal">
        <h1 class="text-h1 font-serif">Sistema para la gobernanza y gestión integral de TI</h1>
        <h3 class="text-h3 font-sans text-beige" style="font-weight: 400;">En entes territoriales (Caso: Alcaldía de Santa Marta)</h3>
    </div>
    <div class="divider reveal"></div>
    <div class="grid-2 reveal" style="align-items: end;">
        <div>
            <p class="text-sm text-muted mb-2">CANDIDATOS</p>
            <p class="font-serif" style="font-size:1.3rem; font-weight: 700; margin-bottom: 0.5rem;">Catalina Molina Valencia</p>
            <p class="font-serif" style="font-size:1.3rem; font-weight: 700; margin: 0;">Jaime Emiro Críales</p>
        </div>
        <div style="text-align: right;">
            <p class="text-sm text-muted mb-2">TRABAJO DE GRADO</p>
            <p class="text-sm text-dark" style="font-weight: 900;">Maestría en Gobierno de TI</p>
            <p class="text-sm text-muted" style="margin-top: 1rem;">BARRANQUILLA • 2025</p>
        </div>
    </div>
  </div>

  <!-- 2. INTRODUCCIÓN -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Contexto y motivación</h2>
    <div class="grid-2">
      <div class="reveal">
        <ul class="list-custom">
          <li><strong>Retos:</strong> Operación TI fragmentada y baja interoperabilidad en entes territoriales.</li>
          <li><strong>Impacto:</strong> Trámites manuales y experiencias ciudadanas desconectadas.</li>
          <li><strong>Necesidad:</strong> Gobierno y gestión TI como habilitadores reales de transformación digital.</li>
          <li><strong>Propósito:</strong> Un sistema integrador con foco en el ciudadano y cumplimiento normativo.</li>
        </ul>
      </div>
      <div class="card-visual reveal" style="background: transparent; border:none; box-shadow:none;">
           <i class="fas fa-users-gear icon-lg"></i>
           <p class="text-sm text-red">FOCO CIUDADANO</p>
      </div>
    </div>
  </div>

  <!-- 3. PROBLEMA -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Situación problemática</h2>
    <div class="grid-2">
      <div class="reveal flex-col">
        <div class="card-highlight">
            <strong class="text-red text-sm">Aislamiento</strong>
            <p class="text-body" style="margin:0.5rem 0 0;">Sistemas aislados y procesos no estandarizados.</p>
        </div>
        <div class="card-highlight">
            <strong class="text-red text-sm">Opacidad</strong>
            <p class="text-body" style="margin:0.5rem 0 0;">Limitaciones para decisiones basadas en datos.</p>
        </div>
        <div class="card-highlight">
            <strong class="text-red text-sm">Debilidad</strong>
            <p class="text-body" style="margin:0.5rem 0 0;">Falta de dirección y monitoreo estratégico.</p>
        </div>
      </div>
      <div class="card-visual reveal" style="border-color: var(--c-rojo); background: #fffafa;">
         <i class="fas fa-triangle-exclamation icon-lg text-red"></i>
         <h3 class="text-h3 text-red">Consecuencias</h3>
         <p class="text-body">Inversiones reactivas, riesgos elevados y baja alineación estratégica.</p>
      </div>
    </div>
  </div>

  <!-- 4. JUSTIFICACIÓN -->
  <div class="slide">
    <h2 class="text-h2 font-serif">¿Por qué este sistema?</h2>
    <div class="grid-2">
      <div class="reveal">
         <p class="text-body">Existe un <strong>déficit histórico</strong> de transformación digital por restricciones de capacidad.</p>
         <p class="text-body">Falta un <strong>marco sistemático</strong> aplicable a la realidad de los entes territoriales.</p>
         <p class="text-body"><strong>Relevancia:</strong> Mejora servicios al ciudadano, transparencia, control y confianza.</p>
      </div>
      <div class="reveal" style="padding: 2rem; background: var(--c-negro); border-radius: 4px;">
         <h3 class="text-h3 text-white" style="border-bottom: 1px solid #555; padding-bottom:10px;">El Aporte</h3>
         <p class="text-white text-body" style="margin-bottom:0;">Integración operable de:</p>
         <ul class="list-custom text-white" style="font-size: 1rem;">
             <li>Arquitectura Empresarial</li>
             <li>Gobierno & Gestión TI</li>
             <li>Regulación Vigente</li>
         </ul>
      </div>
    </div>
  </div>

  <!-- 5. OBJETIVOS -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Objetivos</h2>
    <div class="flex-col" style="height:100%;">
      <div class="reveal" style="border:1px solid var(--c-negro); padding:2rem; margin-bottom: 2rem; position:relative;">
        <span style="position:absolute; top:-12px; left:30px; background:var(--c-blanco); padding:0 10px; font-weight:900; color:var(--c-rojo); border:1px solid var(--c-negro);">GENERAL</span>
        <p class="font-serif" style="font-size:1.8rem; line-height:1.3; margin:0;">
            Diseñar un sistema de gobernanza y gestión TI para entes territoriales.
        </p>
      </div>
      <div class="grid-4 reveal">
          <div class="card-highlight" style="border-left-color: var(--c-beige);"><strong>Esp. 1</strong> Identificar componentes conceptuales.</div>
          <div class="card-highlight" style="border-left-color: var(--c-beige);"><strong>Esp. 2</strong> Estructurar el sistema propuesto.</div>
          <div class="card-highlight" style="border-left-color: var(--c-beige);"><strong>Esp. 3</strong> Validar mediante modelo de madurez.</div>
          <div class="card-highlight" style="border-left-color: var(--c-beige);"><strong>Esp. 4</strong> Aplicar en caso real (Santa Marta).</div>
      </div>
    </div>
  </div>

  <!-- 6. MARCO TEÓRICO -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Fundamentos Conceptuales</h2>
    <div class="grid-2">
      <div class="reveal">
        <div class="mb-2">
            <h3 class="text-h3 text-red">Gobierno de TI (EDM)</h3>
            <p class="text-body">Asegura valor, control y alineación. <br><em>Acciones:</em> Evaluar, Dirigir, Monitorear.</p>
        </div>
        <div class="mb-2">
            <h3 class="text-h3 text-dark">Gestión de TI (PBRM)</h3>
            <p class="text-body">Convierte dirección en capacidades. <br><em>Acciones:</em> Planear, Construir, Operar, Monitorear.</p>
        </div>
         <div>
            <h3 class="text-h3 text-beige">Gestión Corporativa</h3>
            <p class="text-body">Ejecuta estrategia mediante recursos y procesos.</p>
        </div>
      </div>
      <div class="card-visual reveal" style="border:none; box-shadow:none; background:transparent;">
          <!-- Diagrama generado con CSS Puro (sin imágenes externas) -->
          <div style="width:260px; height:260px; border:3px dashed #ccc; border-radius:50%; display:grid; place-items:center; position:relative;">
              <div style="text-align:center;">
                  <i class="fas fa-arrows-spin icon-lg" style="font-size:3rem; margin-bottom:10px;"></i>
                  <p class="text-sm">CICLO DE VALOR</p>
              </div>
              <span style="position:absolute; top:-15px; background:white; padding:0 10px; font-weight:bold; color:var(--c-rojo);">EDM</span>
              <span style="position:absolute; bottom:-15px; background:white; padding:0 10px; font-weight:bold;">PBRM</span>
          </div>
      </div>
    </div>
  </div>

  <!-- 7. MODELO PROPUESTO -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Sistema Integral Propuesto</h2>
    <div class="grid-2">
      <div class="reveal">
        <ul class="list-custom">
            <li><strong>Enfoque Sistémico:</strong> Articulación entre Gobierno Corporativo y TI.</li>
            <li><strong>Eje Central:</strong> El ciudadano (experiencia y valor público).</li>
            <li><strong>Componentes:</strong> Direccionamiento (CMI), Arquitectura y Procesos.</li>
            <li><strong>Capacidades:</strong> Servicios, proyectos, talento, calidad.</li>
            <li><strong>Control:</strong> Medición y madurez.</li>
        </ul>
      </div>
      <div class="reveal" style="background:var(--c-negro); padding:3rem; color:white; display:flex; flex-direction:column; justify-content:center; text-align:center; border-radius: 8px;">
          <h3 class="text-h3 text-white" style="border-bottom:1px solid #555; padding-bottom:1rem;">La Clave</h3>
          <p class="font-serif" style="font-size:1.5rem; font-style:italic; margin-top:1rem;">"Traducir la estrategia institucional en ejecución técnica medible."</p>
          <i class="fas fa-check-double text-green" style="font-size:2rem; margin-top:1rem; color: #4caf50;"></i>
      </div>
    </div>
  </div>

  <!-- 8. CASO DE ESTUDIO -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Caso: Alcaldía de Santa Marta</h2>
    <div class="grid-2">
      <div class="reveal">
        <div class="flex-row mb-2">
            <i class="fas fa-map-location-dot text-red" style="font-size:2rem;"></i>
            <div>
                <strong>Caracterización</strong>
                <p class="text-body" style="margin:0;">Análisis del mapa de procesos real.</p>
            </div>
        </div>
        <div class="flex-row mb-2">
            <i class="fas fa-stethoscope text-red" style="font-size:2rem;"></i>
            <div>
                <strong>Diagnóstico</strong>
                <p class="text-body" style="margin:0;">DOFA y análisis de brechas TI.</p>
            </div>
        </div>
        <div class="flex-row">
            <i class="fas fa-chart-line text-red" style="font-size:2rem;"></i>
            <div>
                <strong>Madurez & Plan</strong>
                <p class="text-body" style="margin:0;">Adaptación del sistema por fases.</p>
            </div>
        </div>
      </div>
      <div class="card-visual reveal" style="background: #eef; border:none;">
          <i class="fas fa-building-columns icon-lg text-dark"></i>
          <h3 class="text-h3">Validación Real</h3>
      </div>
    </div>
  </div>

  <!-- 9. RESULTADOS -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Resultados</h2>
    <div class="grid-2">
      <div class="reveal">
        <ul class="list-custom">
            <li><strong>Brechas Priorizadas:</strong> Identificadas desde diagnóstico y DOFA.</li>
            <li><strong>Línea Base:</strong> Nivel de madurez para orientar la intervención.</li>
            <li><strong>Ajuste Institucional:</strong> Adaptación de dimensiones a la Alcaldía.</li>
            <li><strong>Plan de Ruta:</strong> Fases, acciones clave y riesgos definidos.</li>
        </ul>
      </div>
      <div class="card-visual reveal" style="background:#fff; border-left:8px solid var(--c-verde);">
          <i class="fas fa-route icon-lg" style="color:var(--c-verde);"></i>
          <h3 class="text-h3" style="color:var(--c-verde);">Ruta Implementable</h3>
          <p class="text-body">Plan de acción, no solo teoría.</p>
      </div>
    </div>
  </div>

  <!-- 10. CONCLUSIONES -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Conclusiones</h2>
    <div class="grid-2">
      <div class="reveal">
         <ul class="list-custom">
             <li>Se diseñó un sistema <strong>integrador</strong> para entes territoriales.</li>
             <li>La validación evidencia <strong>aplicabilidad y pertinencia</strong>.</li>
             <li>La Arquitectura y el Gobierno TI habilitan <strong>alineación y control</strong>.</li>
             <li>El <strong>enfoque ciudadano</strong> orienta prioridades y valor.</li>
         </ul>
      </div>
      <div class="reveal" style="text-align:center;">
          <h1 style="font-size:6rem; margin:0; line-height:1;">FIN</h1>
          <div class="divider" style="margin: 1rem auto;"></div>
          <p class="font-serif font-italic">Gracias por su atención</p>
      </div>
    </div>
  </div>

  <!-- 11. REFERENCIAS -->
  <div class="slide">
    <h2 class="text-h2 font-serif">Referencias Base</h2>
    <div class="reveal" style="column-count: 2; column-gap: 3rem;">
        <p class="text-body text-sm">Autores y marcos citados sobre transformación digital y cambio organizacional.</p>
        <p class="text-body text-sm">Estándares de Gobierno y Gestión TI (COBIT, ITIL, ISO).</p>
        <p class="text-body text-sm">Marcos de Arquitectura Empresarial (TOGAF).</p>
        <p class="text-body text-sm">Referentes nacionales y normativa aplicable al sector público colombiano (MINTIC).</p>
    </div>
  </div>

  <!-- CONTROLES GLOBALES -->
  <div class="controls">
    <button class="btn-nav" id="prevBtn" aria-label="Diapositiva Anterior"><i class="fas fa-arrow-left"></i></button>
    <!-- aria-live="polite" informa al lector de pantalla cuando cambia el número -->
    <div id="slide-counter" aria-live="polite">1 / 11</div>
    <button class="btn-nav" id="nextBtn" aria-label="Siguiente Diapositiva"><i class="fas fa-arrow-right"></i></button>
  </div>

</div>

<!-- =======================================================
     LÓGICA JAVASCRIPT
     ======================================================= -->
<script>
  // ESTADO DE LA APLICACIÓN
  // Mantenemos las variables en un objeto 'state' para orden y evitar contaminar el scope global
  const state = {
    current: 0, // Índice actual
    slides: document.querySelectorAll('.slide'), // Cache de elementos DOM
    total: 0
  };
  state.total = state.slides.length;

  // REFERENCIAS DOM (UI)
  // Guardamos referencias a los elementos que vamos a manipular
  const ui = {
    bar: document.getElementById('progressBar'),
    counter: document.getElementById('slide-counter'),
    app: document.getElementById('app')
  };

  // --- FUNCIÓN PRINCIPAL: Actualizar Diapositiva ---
  const updateSlide = () => {
    // 1. Alternar clase 'active' para mostrar/ocultar y disparar animaciones CSS
    state.slides.forEach((s, i) => {
        s.classList.toggle('active', i === state.current);
    });

    // 2. Calcular progreso (Porcentaje)
    const progress = ((state.current + 1) / state.total) * 100;
    
    // 3. Actualizar UI (Barra y Contador)
    ui.bar.style.width = `${progress}%`;
    ui.counter.textContent = `${state.current + 1} / ${state.total}`;
  };

  // --- NAVEGACIÓN ---
  const nextSlide = () => { if(state.current < state.total - 1) { state.current++; updateSlide(); } };
  const prevSlide = () => { if(state.current > 0) { state.current--; updateSlide(); } };

  // --- DELEGACIÓN DE EVENTOS (OPTIMIZACIÓN DE MEMORIA) ---
  // En lugar de añadir un listener a cada botón, escuchamos clics en todo el documento
  // y verificamos si el clic vino de un botón que nos interesa.
  document.addEventListener('click', (e) => {
    const target = e.target.closest('button') || e.target; // Busca el botón más cercano si se hizo clic en el icono
    
    if (target.id === 'nextBtn') nextSlide();
    if (target.id === 'prevBtn') prevSlide();
  });

  // --- NAVEGACIÓN POR TECLADO ---
  document.addEventListener('keydown', (e) => {
    // Soporte para flechas, espacio y enter
    if(['ArrowRight', ' ', 'Enter'].includes(e.key)) nextSlide();
    if(['ArrowLeft', 'Backspace'].includes(e.key)) prevSlide();
  });

  // --- GESTOS TÁCTILES (SWIPE) ---
  let touchX = 0;
  // 'passive: true' mejora el rendimiento del scroll en móviles
  ui.app.addEventListener('touchstart', e => touchX = e.changedTouches[0].screenX, {passive: true});
  ui.app.addEventListener('touchend', e => {
      const diff = e.changedTouches[0].screenX - touchX;
      // Umbral de 50px para considerar que fue un gesto intencional
      if (Math.abs(diff) > 50) diff < 0 ? nextSlide() : prevSlide();
  }, {passive: true});

  // INICIALIZACIÓN
  updateSlide();
</script>

</body>
</html>
